<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Document</title>
</head>

<body>
    <div>
        <div class=" d-flex justify-content-center" style="height: 400px; overflow: hidden;">
            <img src="./website.png" alt class="img-thumbnail w-100">
        </div>
        <div class="form-group list-unstyled d-flex p-3" style="gap: 20px;">
            <li class="border p-1">Trang chủ</li>
            <li class="border p-1" style="cursor: pointer;" id="open">Đăng kí</li>
        </div>
        <h2>LIST OF MEMBERS</h2>
        <table>
            <thead>
                <td>STT</td>
                <td>Họ và tên</td>
                <td>Giới tính</td>
                <td>Số điện thoại</td>
                <td>Ngày sinh</td>
                <td>Địa chỉ</td>
                <td>Khóa học</td>
                <td>Học phí</td>
            </thead>
            <!-- <tr>
                    <td>ssss</td>
                    <td>ssss</td>
                    <td>ssss</td>
                    <td>ssss</td>
                </tr> -->
        </table>

    </div>
    <div class="modal  bg-light w-50 shadow-lg h-auto p-5" id="modal" style="display: none;position: absolute; left: 50%;top:50%; transform: translate(-50%,-50%);">
        <div class="modal-header">
            <div class="modal-title">
                <h2 style="margin: 20px 0;">PHIẾU NHẬP THÔNG TIN</h2>

            </div>
            <button type="button" data-dismiss=" modal " id="close" aria-label="Close ">
                <span aria-hidden="true ">&times;</span>
            </button>
        </div>
        <div class="modal-content p-3 ">
            <div>
                <div class="form-group ">
                    <label for>
                        <b>Họ và tên</b>
                    </label>
                    <input type="text " id="ten " class="form-control ">
                </div>
                <span class="err-ten ">*</span>
            </div>
            <div>
                <div class="form-group ">
                    <label for>
                    <b>Số điện thoại</b>
                    </label>
                    <input type="text " id="sdt " class="form-control ">
                </div>
                <span class="err-sdt ">*</span>

            </div>
            <div>
                <div class="form-group ">
                    <label for>
                    <b>Ngày sinh</b>
                </label>
                    <input type="date " id="date " class="form-control ">
                </div>
                <span class="err-date ">*</span>

            </div>
            <div>
                <div class="form-group ">
                    <label for>
                        <b>Địa chỉ</b>
                    </label>
                    <input type="text " id="diachi " class="form-control ">
                </div>
                <span class="err-diachi ">*</span>

            </div>
            <div class="form-group ">
                <label for="gioiTinh ">
                    <b>Giới tính</b>
                </label>

                <input type="radio " id="rNam " name="gioiTinh " value="Nam " checked>Nam
                <input type="radio " id="rNu " name="gioiTinh " value="Nu ">Nu

            </div>
            <div class="form-group ">
                <label for>
                    <b>Khoá học</b>
                </label>
                <select id="khoahoc " onchange="changeHocPhi() " class="form-select ">
                    <option value="2 tuần ">2 tuần</option>
                    <option value="4 tuần ">4 tuần</option>
                    <option value="6 tuần ">6 tuần</option>
                </select>
            </div>
            <div class="form-group ">
                <label>
                    <b>Học phí</b>
                </label>
                <input class="form-control " type="text " readonly id="hocphi " value="20000 ">
            </div>
        </div>
        <div class="modal-fo ">
            <button id="submit" class="btn btn-success w-25 ">Lưu</button>

        </div>

    </div>
</body>
<script>
    const open = document.querySelector("#open");
    const close = document.querySelector("#close");
    const modal = document.querySelector("#modal");
    const submit = document.querySelector("#submit");
    const khoaHoc = document.getElementById("khoahoc");
    const hocphiElement = document.getElementById("hocphi");
    const erTen = document.querySelector(".err-ten ");
    const erSdt = document.querySelector(".err-sdt ");
    const erDiachi = document.querySelector(".err-diachi ");
    const erDate = document.querySelector(".err-date ");



    const nam = document.getElementById("rNam ");
    const nu = document.getElementById("rNu ");
    var stt = 0;
    var gt = " ";
    var tien = " ";
    var table = document.querySelector("table ");

    function changeHocPhi() {
        if (khoaHoc != " ") {
            switch (khoaHoc.value) {
                case "2 tuần ":
                    tien = "20000 ";
                    break;
                case "4 tuần ":
                    tien = "40000 ";
                    break;
                case "6 tuần ":
                    tien = "60000 ";
                    break;
                default:
                    tien = "0 "
            }
            hocphi.value = tien;
        } else {
            alert("Vui lòng lựa chọn khóa học!! ")
        }
    }

    //open modal
    open.addEventListener("click", function() {
        modal.style.display = "block";
    });
    //close modal
    close.addEventListener("click", function() {
        modal.style.display = "none ";
    });
    //khi click submit
    submit.addEventListener("click ", function(e) {
        e.preventDefault()
        const ten = document.getElementById("ten ").value;
        const ngay = document.getElementById("date ").value;
        const sdt = document.getElementById("sdt ").value;
        const diachi = document.getElementById("diachi ").value;

        // ẩn span
        function hideElement(element) {
            element.innerHTML = " ";
            element.classList.add("none ");
        }
        //show span
        function showElement(element, message) {
            element.innerHTML = message;
            element.classList.remove("none ");
        }

        if (ten === " ") {
            showElement(erTen, "Vui lòng nhập tên!! ");
        } else if (ten.length < 5) {
            showElement(erTen, "Tên phải có ít nhất 5 ký tự!! ");
        } else {
            hideElement(erTen);
        }

        if (sdt === " ") {
            showElement(erSdt, "Vui lòng nhập số điện thoại!! ");
        } else if (sdt.length < 10) {
            showElement(erSdt, "Số điện thoại phải có ít nhất 10 số!! ");
        } else if (!/^\d+$/.test(sdt)) {
            showElement(erSdt, "Số điện thoại sai định dạng!! ");
        } else {
            hideElement(erSdt);
        }

        if (ngay === " ") {
            showElement(erDate, "Vui lòng điền ngày sinh!! ");
        } else {
            hideElement(erDate);
        }

        if (diachi === " ") {
            showElement(erDiachi, "Vui lòng nhập địa chỉ!! ");
        } else if (diachi.length < 10) {
            showElement(erDiachi, "Địa chỉ phải nhiều hơn 10 ký tự !! ");
            return false;
        } else {
            hideElement(erDiachi);
        }
        if (nam.checked) {
            gt = "Nam ";
        } else {
            gt = "Nu ";
        }
        if (khoaHoc.value === " ") {
            alert("Vui lòng chọn khóa học!! ");
        }
        if (ten !== " " &&
            sdt !== " " &&
            ngay !== " " &&
            diachi !== " " &&
            khoaHoc.value !== " ") {
            stt++
            let html = `
        <tr>
            <td>${stt}</td>
            <td>${ten}</td>
            <td>${gt}</td>
            <td>${sdt}</td>
            <td>${ngay}</td>
            <td>${diachi}</td>
            <td>${khoaHoc.value}</td>
            <td>${hocphi.value}</td>
        </tr>`;
            console.log(ten)
            let row = table.insertRow();
            row.innerHTML = html;
            modal.style.display = "none ";
        }
    })
</script>

</html>